<CascadingAuthenticationState>
  <Router AppAssembly="@typeof(Program).Assembly">
    <Found Context="routeData">
      <AuthorizeRouteView RouteData="@routeData" DefaultLayout="@typeof(MainLayout)">
        <NotAuthorized>
          @if (context.User.Identity?.IsAuthenticated != true)
          {
            <div
              class="max-w-2xl mx-auto mt-10 bg-white/95 backdrop-blur rounded-2xl shadow-xl border border-white/60 p-6 space-y-3 text-slate-800">
              <h4 class="text-xl font-extrabold text-slate-900">Access Denied</h4>
              <p class="text-slate-600">You need to be logged in to access this page.</p>
              <div class="flex flex-wrap gap-3">
                <a href="/login"
                  class="inline-flex items-center px-4 py-2.5 rounded-xl font-semibold text-white shadow-lg shadow-brand-500/30"
                  style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">Login</a>
                <a href="/register"
                  class="inline-flex items-center px-4 py-2.5 rounded-xl font-semibold text-slate-700 bg-slate-100 hover:bg-slate-200 transition">Register</a>
              </div>
            </div>
          }
        </NotAuthorized>
      </AuthorizeRouteView>
    </Found>
    <NotFound>
      <LayoutView Layout="@typeof(MainLayout)">
        <p>Sorry, there's nothing at this address.</p>
      </LayoutView>
    </NotFound>
  </Router>
</CascadingAuthenticationState>